
const miModulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],l=["A","J","Q","K"],r=[],s=document.querySelector("#btnPedir"),n=document.querySelector("#btnDetener"),a=document.querySelector("#btnNuevo"),d=document.querySelectorAll("small"),i=document.querySelectorAll(".divCartas"),o=(t=2)=>{e=c(),r=[];for(let l=0;l<t;l++)r.push(0);d.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),n.disabled=!1,s.disabled=!1},c=()=>{e=[];for(let r=2;r<=10;r++)for(let s of t)e.push(r+s);for(let n of l)for(let a of t)e.push(n+a);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay mas cartas";return e.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},f=(e,t)=>(r[e]=r[e]+$(t),d[e].innerText=r[e],r[e]),b=(e,t)=>{let l=document.createElement("img");l.src=`assets/cartas/${e}.png`,l.classList.add("carta"),i[t].append(l)},h=e=>{let t=0;do{let l=r.length-1,s=u();t=f(l,s),b(s,l)}while(e>=t&&e<=21);g()};//! Eventos 
s.addEventListener("click",function(){let e=u(),t=f(0,e);b(e,0),t>21?(s.disabled=!0,n.disabled=!0,h(t)):21===t&&(s.disabled=!0,n.disabled=!0,h(t))}),n.addEventListener("click",function(){console.log(r[0]),h(r[0]),s.disabled=!0,n.disabled=!0});let g=e=>{let[t,l]=r;setTimeout(()=>{e=t===l?alert("Empate"):t>21?alert("Perdiste"):l>21?alert("ganaste"):t>l?alert("ganaste"):alert("perdiste"),console.log(e)},100)};return a.addEventListener("click",()=>{o()}),{nuevoJuego:o}})();